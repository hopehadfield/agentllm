# Google Gemini API Key (Required)
# This single key is used for:
# - Direct Gemini 2.5 models (gemini-2.5-pro, gemini-2.5-flash)
# - Agno agents (echo, assistant, code-helper - all use gemini-2.5-flash)
# Get your key from: https://aistudio.google.com/apikey
GEMINI_API_KEY=AIzaSy...

# LiteLLM Proxy Settings
LITELLM_MASTER_KEY=sk-agno-test-key-12345
LITELLM_PORT=8890

# OpenWebUI Configuration
# Base URL for connecting to LiteLLM proxy (OpenAI-compatible endpoint)
# This controls how Open WebUI (running in Docker) connects to the LiteLLM proxy.
#
# Development mode (local proxy + containerized Open WebUI):
#   - Run proxy locally: nox -s proxy
#   - Run Open WebUI in container: nox -s dev_local_proxy
#   - Use: http://host.docker.internal:8890/v1
#
# Production mode (both services containerized):
#   - Run both in containers: nox -s dev_full
#   - Use: http://litellm-proxy:8890/v1
#
# The default below is optimized for local development.
# On Linux, host.docker.internal is automatically mapped via docker-compose extra_hosts.
OPENAI_API_BASE_URL=http://host.docker.internal:8890/v1

# OpenWebUI Branding & Defaults
WEBUI_NAME=Sidekick Agent
# External URL to access Open WebUI (used for OAuth callbacks and user access)
# Port 3000 is the external port (mapped to container's internal port 8080)
WEBUI_URL=http://localhost:3000
DEFAULT_MODELS=agno/release-manager

# OpenWebUI Authentication
WEBUI_AUTH=true
ENABLE_SIGNUP=false

# OpenWebUI Security Settings (Development Mode)
# For local HTTP development - set to false
# Production should use true with HTTPS
WEBUI_SESSION_COOKIE_SAME_SITE=lax
WEBUI_SESSION_COOKIE_SECURE=false
WEBUI_AUTH_COOKIE_SECURE=false

# OpenWebUI Logging
# LOG_LEVEL controls the verbosity of logs AND content logging security:
#
# Development mode (LOG_LEVEL=DEBUG):
#   - Full message content and API responses are logged for debugging
#   - Use ONLY in local development - NEVER in production
#   - Logs may contain user messages and agent responses
#
# Production mode (LOG_LEVEL=INFO or higher):
#   - Only metadata is logged (content length, types)
#   - Actual message content is redacted for security
#   - Prevents accidental logging of sensitive user data
#
# Recommendation:
#   - Local development: LOG_LEVEL=DEBUG
#   - Production/staging: LOG_LEVEL=INFO
LOG_LEVEL=DEBUG
UVICORN_LOG_LEVEL=debug
GLOBAL_LOG_LEVEL=DEBUG

# Disabled Features
# We use agent-level tools (Google Drive, Jira) instead of OpenWebUI RAG
ENABLE_OLLAMA_API=false
ENABLE_COMMUNITY_SHARING=false
ENABLE_RAG_WEB_SEARCH=false
OFFLINE_MODE=false

# OAuth Configuration (Optional)
# Set to "true" to enable Google OAuth login for Open WebUI
# If set to "false" or omitted, you can use the default Open WebUI authentication
ENABLE_OAUTH_SIGNUP=false

# Open WebUI Google OAuth (Optional - for user authentication)
# To enable Google sign-in for Open WebUI users, use the SAME Google Cloud project
# as your Google Drive integration, but configure these settings:
# 1. In Google Cloud Console > "APIs & Services" > "Credentials"
# 2. Select your existing OAuth 2.0 Client ID (or create a new one)
# 3. Add authorized redirect URI: http://localhost:3000/oauth/oidc/callback
#    IMPORTANT: The URI must be exactly: http://localhost:3000/oauth/oidc/callback
#    (or use your production domain instead of localhost:3000)
# 4. Copy the client_id and client_secret:
OAUTH_CLIENT_ID=your_client_id_here.apps.googleusercontent.com
OAUTH_CLIENT_SECRET=your_client_secret_here

# Google Drive OAuth (Optional - for Release Manager Google Drive integration)
# To enable Google Drive access in the Release Manager agent, follow these steps:
# 1. Go to https://console.cloud.google.com
# 2. Create a new project or select an existing one
# 3. Enable the Google Drive API:
#    - Navigate to "APIs & Services" > "Library"
#    - Search for "Google Drive API" and enable it
# 4. Create OAuth 2.0 credentials:
#    - Go to "APIs & Services" > "Credentials"
#    - Click "Create Credentials" > "OAuth 2.0 Client ID"
#    - Application type: "Web application"
#    - Add authorized redirect URI: http://localhost
#    - Click "Create"
# 5. Copy the client_id and client_secret from the created credentials
# 6. Set them below:
GDRIVE_CLIENT_ID=your_client_id_here.apps.googleusercontent.com
GDRIVE_CLIENT_SECRET=your_client_secret_here

# Release Manager Extended System Prompt (Optional)
# Google Doc URL or ID containing agent instructions for the Release Manager
#
# Setup: Copy docs/release_manager_system_prompt.md to a Google Drive document
#        and set this variable to the document URL or ID
#
# Content Guide: See docs/release_manager_prompt_guide.md
#                This guide (also in Google Drive) explains what content to include
#                Written for release managers and team leads maintaining the prompt
#
# Technical Details: See CLAUDE.md "Release Manager System Prompt Architecture"
#                    For developers: how this integrates with the agent system
#
# Requirements:
# - User must have Google Drive configured (GDRIVE_CLIENT_ID/SECRET above)
# - User must have read access to the specified Google Doc
# - Content is fetched once and cached per user until agent invalidation
#
# Example values:
# - Full URL: https://docs.google.com/document/d/1ABC123xyz/edit
# - Document ID only: 1ABC123xyz
# RELEASE_MANAGER_SYSTEM_PROMPT_GDRIVE_URL=
